// Tokenizes events and prefixes of variable names and statements

// configure callbacks
OUT  out
BACK back
ERROR err
REFLECT reflect

// redirects
OUT 0 null
BACK OUT null
ERROR 0 null

// reflect with the same token by default
0 REFLECT any
REFLECT 0 null

// variable prefixes
0 VAR0 BACKTICK
0 VAR0 COLON
0 VAR0 PERIOD
VAR0 VAR1 COMPOUND
VAR0 ERROR any

// allow dashes between variable names, if next token is still a compound
VAR1 VAR2 OP_SUB
VAR1 VAR any
VAR2 VAR1 COMPOUND
VAR2 VARb any
VARb back
VARb VAR null
VAR BACK null

// statement atomic
0 EXCLAMATION EXCLAMATION0
0 STATEMENT0 AT
0 STATEMENT0 POUND
STATEMENT0 STATEMENT1 COMPOUND
STATEMENT0 STATEMENT any

// handle exclamation point prefix
EXCLAMATION0 STATEMENT1 COMPOUND
EXCLAMATION0 EXCLAMATION any
EXCLAMATION BACK null

// handle dashes between statement atomics
STATEMENT1 STATEMENT2 OP_SUB
STATEMENT1 STATEMENT any
STATEMENT2 STATEMENT1 COMPOUND
STATEMENT2 STATEMENTb any
STATEMENTb back
STATEMENTb STATEMENT null
STATEMENT BACK null
